/* jquery.onvisible.js v0.1 */
function() {
  var timeout;
  var $window = jQuery(window);
  /** @type {Array} */
  var elems = [];
  /** @type {number} */
  var quietMillis = 100;
  /** @type {number} */
  var clientTop = 150;
  /**
   * @return {undefined}
   */
  var init = function() {
    /** @type {number} */
    var length = elems.length;
    /** @type {number} */
    var top = $window.scrollTop() + $window.height() - clientTop;
    var i;
    var options;
    /** @type {number} */
    i = 0;
    for (;i < length;i++) {
      options = elems[i];
      if (!options.state) {
        if (top > options.o.offset().top) {
          /** @type {boolean} */
          options.state = true;
          options.fn();
        }
      }
    }
  };
  $window.load(function() {
    $window.on("scroll resize", function() {
      window.clearTimeout(timeout);
      /** @type {number} */
      timeout = window.setTimeout(function() {
        init();
      }, quietMillis);
    }).trigger("resize");
  });
  /**
   * @param {(Function|string)} helper
   * @param {number} cmp
   * @return {undefined}
   */
  jQuery.fn.onVisible = function(helper, cmp) {
    elems.push({
      o : jQuery(this),
      fn : helper,
      pad : cmp ? cmp : clientTop,
      state : false
    });
  };
})();
